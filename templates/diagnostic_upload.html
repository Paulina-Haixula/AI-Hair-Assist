<!--Diagnostic_upload.html-->
{% extends "layout.html" %}
{% block content %}

<div class="container mt-5">
    <div class="card shadow p-4">

        <h2 class="text-center mb-3">ğŸ“¸ Upload Diagnostic Image</h2>
        <p class="text-center text-muted">
            Please upload a clear image of your scalp to help improve diagnostic accuracy.
        </p>

        {% if error %}
            <div class="alert alert-danger text-center">
                {{ error }}
            </div>
        {% endif %}

        <!-- Image capture instructions -->
        <div class="alert alert-info mt-4">
            <h5 class="mb-2">ğŸ“‹ How to take a good diagnostic image</h5>
            <ul class="mb-0">
                <li>ğŸ“± Use a phone or camera with good focus and resolution</li>
                <li>ğŸ’¡ Take the photo in <strong>bright natural light</strong> (avoid flash if possible)</li>
                <li>ğŸ§‘â€ğŸ¦± Ensure the <strong>scalp is clearly visible</strong> â€” part the hair if necessary</li>
                <li>ğŸ“ Hold the camera about <strong>20â€“30 cm</strong> from the scalp</li>
                <li>ğŸš« Avoid blurry, dark, or overexposed images</li>
                <li>ğŸ§¼ Make sure the scalp is clean and free of styling products</li>
                <li>ğŸ” Capture only the head/scalp area â€” avoid background distractions</li>
            </ul>
        </div>

        <!-- Upload form -->
        <form
            action="{{ url_for('diagnostic.imagesaved', survey_id=survey_id) }}"
            method="post"
            enctype="multipart/form-data"
            class="mt-4"
        >
            <input type="hidden" name="survey_id" value="{{ survey_id }}">

            <div class="mb-3">
                <label class="form-label">Select Image</label>
                <input
                    type="file"
                    name="image_file"
                    class="form-control"
                    accept="image/*"
                    required
                >
            </div>

            <div class="d-flex justify-content-between">
                <a
                    href="{{ url_for('diagnostic.diagnostic_choice', survey_id=survey_id) }}"
                    class="btn btn-secondary"
                >
                    â¬… Back
                </a>

                <button type="submit" class="btn btn-primary">
                    â¬† Upload Image
                </button>
            </div>
        </form>

    </div>
</div>

{% endblock %}
